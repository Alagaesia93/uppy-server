language: node_js
# We need sudo so that Frey can install pip, until Frey figures that out
sudo: true
cache:
  apt: true
  directories:
    - node_modules
    - /home/travis/.frey/tools
    - ~/.pyenv
node_js:
- 4.2.2
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
before_script:
- scripts/rebuild-env.sh
script:
- npm run lint
env:
  global:
  - CXX=g++-4.8
  - secure: BFvZfp385c0rwviX3Qy2ucxMI0nOq3luJ/Yz0l3L1K5pFQHfU8nveklmvP+LKJ2bh6+agLIKbTh8z7E6ZNvlatlw1fY1Oy99LlPimh/kQjaSUAHQFmtUrIC438Ku9vjvG9p9L/WbXty1T+GaEZTr6ssfO01pICC7xVK+Q7yVMlz9mC7hWZdssuaih3diNNFQu3tzcs9XK+K8/azv+yrQ0eCk58sXSRl/1z7nY69lOOYUPlQgkYAlBLzTScRVBWrs5enm4fV7yrw6HXsGE9HAufHYoIGE0vK7O1M0T8rWTX6AX45A407d2eetZB5qtdSdtX3sEC0zuSjseLnAThIyt+RIt7gwL8RhuV5bJxElyf5UvfChK4AO8Ypnny25KvXiVpRu4VN2TLrGcZGgLBMEDyfx3DhtX5+BOZR3euIoEdgDpi/5OvAw7rjsw7AJblPbIBJXUlmd9vkNH9BR3AX3nt8HR78AFHNBjhcN+nGlcb6+y1S/zk6zTYqAv1kG4Z91a1LB+qz2yYfFWHXVyiBVMwdmxCTJCcxILh2jLdkNGYOega6cwpz858+OTf34fYeJAkddC/BuQ7rTKE0WZHguRhvXwpT3Jq7bFOQkpWTmpwBIltmPrL8Dxiu0drRC/q5OqsgsvHxQ31h/jFQIcgFVxR6XE6CN8RFCG/yDeZbHVE0=
  - secure: UV7zmFU7YV6Z180iWdv1KbDJRXzNY+BLUL8kSbmHb9aO26Icwx7wB7eaIewFouoaTWRw6QJncTTX3/rZU/nDKDMl7mfHed6Ei80kGc6p9D6t3WI0GuujIYO4i6R2Qm8EMgtL/x1m8Uco+96UfzopmzoBCnE4aqGhKQBmIInRXZhNLXEeJHYraQgA4cHLVgTHJjGwq3aH983JpTbnxgYI6Yc6hWdE1TYLnYMSn5SeQ0qgS5+OD7vMKSYRPqvMtb48cVHrW++9EIx+FY2lKm/xfsmkcviZL+ndZ1jK9sGGt39vpV7aiULjDZo+ANPHH9gW8MkB47jaAlaFydzS32J/ffIIYuuimLhMjitPggFJHfXTLUemRoEdx7SbJ/W4f8dhoUbQYQ1NtpapQJYnQfjad1wm1wV6UYM0XXsVmtymlN6IK3PbTbSq5XtgUIf0PXXIEmoJw1yOysV2OgMczj4w93QDjrwDuQz7fov93xOeUD4q4tSq5A7mQiMjsjSlggoSkSUAOi2b+xFIKquB6P52mzP3coBnbUlkfKvr2fzTImCm1WOSqfLb+CF5CFLumGY6RURu6d/6Ds0OJ2ktn81Yy/wqILOnhmlYv/fnAFC9S13S9BAoVqsZ3GQOkso8qWnGrxP41OP8kp2VBtLenklnP2k2X8kiJcLid+IfOvImdMU=
  - secure: p5tI2XOQZ/W/VSSEpEiQWZ+Bi/3HnLBQVxhNSNm5XAYXTT3OuB3KeUvaif4Fxt0Pnz6BusCM+nrtcdaOKOzSBmfcKj6C77ynRLzBOvpWEwlU6tLkGhi1i1BzoN0/vgqfHl8D/vfyK6Nytgus2uKT4JmttEYMLUuypN444kuhZhHkl+ESE/Z0YkXzATmxSz6K/PYFnp9vsfuPwhvE1riHZYx+Lb9GpJQgWEP+RHGZ3RAMah/8txTKAd5nvMGe8a8nM113pZ2LIlqKZ1+VsOIIVQrnygMY+V3mAPXtwNL1bzSDpifp3IQZnHMsu+FDqyLD+OipY3iw8On4qzn1tF1B2occMCr+XBagEbfygmnAn9/gZOnec5Yzl8h4k0+UoU+S6t0kl77lqqs9NT6tDDg8IpImbigu8cFos4Lqq8GIuLSe5S0bw4EGgEsB+nYgdM60QpW7xMrq78mykjPnqqeUghJRLNgiDjK7gU4Kg1KWKM8G+IToesE7TmZctD+lK/TpLkxIiBX+MwK+Sef989dbvxNCy8RDkE0VS3nzsMNaFUH6Rd78tUjCz8eQ+dsXfUKEGw5OIHXVcjMaDpcUwjmYlIRADVYf04Amu/Yqg5qK6G1M2CxgK8MoPgTSNzEYm0Y7VCzPdeMsQU07rIcD6qJej+qVINuyjVebFOj5Y6UFyT0=
  - secure: zsoxpfW9pN5K0reKdQ8mWuyHirX/42MS5YcOmr9ZbYOnB7B/6PsP7aA0ol+pO8rFsNNn7bTnQqCewUkGqRZXw47PBK69hh01IcqIqRfj3SEYsFDAk0PVdqFtqCOGNXhNqjA8uhUIKoe4GI80bvnD/Fp9MP/TjbGpJKlCEN7y2DmDjBEcKs1REn0NmVWc9ZaJpvBnoEnkddXkjUvQCEcE3S3EKRGHKnhXQS3PaNvQhD9atrjuhX1D6gsD6khPt9iolzKChzZmW6nL9pD/Kp5Nsnzs10wkAS3D1eWpWRW5XdI+wdVjhC7umM7rzcTCuMKJvIU0ux/K89QAdzcNlInZKmWQ8xEH4+prB2gICkIR6AqcZJuJyarTz4ZyB1j8vDOvto/v1kUsEm3hueRMH2HjxfiNwLkV95LToMmEjRdNLbBrC9sgLoamjBAD1ooHO12//2yNFsXN2hH7hrRzB0Pn1ypCzkNOGVSK9w6q5U+uwOwA9kUXgvS9Y+aprHhsOieabZ3Ei6gVpsUkyu2KRSuKruCYnLKxEHfOC6XIltz3wWXYBLh4aiP7FbPUDMh9j1LOYdEFwlvV95yqGp3AfueqRgUeeM52DKmARZkW1On5yluOKmG/Di2Hg5g65pwBLJ1ZMwJcn8XxF5T+uQLgK4mvf3pm8j3iEKVbp5ec5ar0dsc=
  - secure: qynbo0deHvDeDm8CPf620S8itbcG/dTL3y/3/chGzjUspoXC7xdlMSGQ60cubZPOPi8dEQjiAP/vEji6IKIwa4w5aMblI36ZBSeJooZ+ptijvVPLTdWvSHMnT0je9dOhrmCUZnDDJ1T+35gG2wMhb0QC1qnmqoRzHwT7SmQWhWdXC72aGRjjnDOwWcTLd7VLGhcvEJEhMuKuUrHtUQfZKq82PoC0mlJt1d17F+UGfXYNM2RL40pdj8vxy8h4q2/YIVSLT8X1Utg2xXnK7b8H80XrcSFU8Wx0ouS6+k31N8TDjvUrEKOUmb3mmkH+EyvfV4mmUCpHp5c0MuJd3bFfHFCqjhU2oAfiGy84dxC9GuZNp+mUotMjxI3Fv8j82ubZFhV0TU3CAhjoHo+K4QI7YqC6ZFeJFvYmGpjWMcg+5apHZCR6uFx3hNGCafBesizmVXahQgaaRCOHsNXbENNtDUfy0tyk9yxlm8u5az9rk+HRiET83I8agOeYBsNluZiaLhUTRQKQuybMQK9Abdh7b/KR0tJ/NWWqnMs1xwjOSex87kk04+2n//XefFjTJ3e28sH2H8ukW+3mu0yXpJ4nhSl+n6dJNvL6+Yn/OdFoX2NYmsrcpFYm/2L4siGxvlJK1EbmnIZKEt/9FvKNzPsPyKsofOWKUvBpLjo/HsMtXfs=
  - secure: 2R2ihIOMeVPMjzYPZ6YtM498lEdM+L5D7L77iGiXWpGQMUpO1nzwBpIzClE/MSw6L/cx6Mq541/iq0tby6OvoaKDB6Lpsxzjb8oWsdZYUM7ZNimcbVHJ7mTDFzdpmZH4tZ9zg69VWBhDNRhcKt507pxkJIEMP+B2fATnd/MHlKTds4oA2wFJvFHpCm3UUOlmDh9voqI6viWwe0y4qFz+Yc8RrbeBmdaOU84qJc9dr8BldioUZH1Zdi/q4grwvFlI3gesKIJfs4Sk8H6VdBpfXXukcXeWxgZYKj5VSGKHKWWJK8U6aodc0n08rVrP6k0WdvgO7n5NcmjtRKWQixVk+206siNfwokrJXq340dSKGASX1q6ldJ9As529z186LIsqjjCiYV7VRXNjDW/LT97AQtJiyweIx29LV85ZOh/qHZFxkz9gLeFq+yJ1iKq34dtZqKGFGpBYRA7db68czt93LbUyyZ5eh8CBHP3Vh85Zwl1smXtU2NW/Ff9Jwglnv9jv2Ej0INdVITMuSsDTQ4cu1g4b7SjB0ZNQuDG/RV320m/+KinLtOqw5CyjrYy7u8qTxDR6nxk5dfLIW5vrDFAySN5pGZlBblNzRCkEjg0XSBwGDXjl3WvBqZXMkZ7sp/49aY/wyhzMXz82ZkY5ATmZ3Ykj+zfrs8Om7gjOCzbssA=
  - secure: 1AOeeFu3LelPvUgIktgIdcIe+zey4irHbpXRDX2GZWSJYz3ArADIhW15MUzS9asDmcq0dvC1DjDbq3IUrOW/WPrAuQwFyeWdyKH0W/96xeQ5dN+nlZjbv5eSRBriYxb4TZLGpq/f2ES4O9gguj/rgCapoPSg+gEnqvVRpZ/gaR+A1jDyrG7FL9+QIPnNPrQOCtimU+vynEUCE1aliNb2D0XUsBwvjTMB37v4Gar2H3WJ2QFFHa2DTHndlQpuRdzBny5NT7sR91/WKssiuKENGfxI+cPVpghiM5UA28etQGieAYLsPxmDjc6YyzGh+tTtSNJsYFfTKlNI//Y/ZucTTQhv1WPVuN5X15JV9qhDBdIhdk558NjXRPIYtYSdwlmkxZ7Uzkzek7t7Iv+sAjTNrfybcSGnzA1BKakKCsCOUEm3DZhkAPrmdnQCcOMbCr7LXC5mnzJyjCZ71vyL1RSlfGE5WxzjAq7ME3TlnlC/DlNu2gjDu96cZe/sfPunfdTWOS/tuPurcRZOPp2oHlqB6NQwIw+7eTIxwHghyWvn1fMaXT1P5AlT8EgEDV+m5I5w+6rOiFyOfx81zkSnlTUO01uYf4TvbJSJ2XKPACnbfo3jIEpVGNijHyOUip2wdJvsqwz/kZyPzj8nX3Ste+R077udiRjf8B9rZzdXbDZj4Wk=
  - secure: jg/vTCmeCP3ghww8IHBicudfIMZHxjiDZjVKnBZLCtHiG+86eDhE6uPBMS3bT6BkkpbOyLT9fk7ABZT5cF68Wdsc3PDwrc/dr5EA7JZtRMjntRWMsNZNxFkJza9RolRJQbAfzqCs0E96Mbd5LKRziJVhYNH8xEIXKbLkGgfWtz0ElVQnyNABKeRWe7JMwe+yOfdwt1yyjJw1pIEw4yZo6COexNU9M8oJaBHboFKxI+iB5jtkvKCIuQQQlepwYpilVIEDClRc920m9fnboSteOL2WnoBpz0Wj9OtqEjMlli2I3LEjcONuPtnSur3nB+p9cdV5r6lZypebMPbbqHDteWNuVz+JOZUPwiDiVQ9L9mhVuidulMpkVbncij30a1c137RALzUfAnGwXcd6pfXLHTn/mXenrIM6qhkhT/EjixMLl6kXan0gXnEPIRPgecg98VVpg3OIWW+3ECm1JEgHfqqLRyDO7+EL04Q02419H52bWe+FLnBdJ8VsmAHlwLIVWJsQKDOID2JUx+6eBsB8qZydNhk/ebiV7bFexHy/RWCtFeOZR1BmKgL8UAh+KPKyeDWJ+3IPHDScKeRZCdDqan1Tcc06IWs71hRze/FOkbxEPSc3Fg8AdLF7FPBKUap14X9yFc6eJixJNHVxIriyTecisa4jLxHA6nWjeYga/5o=
  - secure: AxoCatC92nmdlc3/TvstD0K6LgjUlShmL7o9oKGEEaAsdzPaCL2wpaoSoyOkUJnVl+krUljwMOFUDvffcrkWc/RHLsgetO2kkP1k21gVC3vGVbX1+SkyHBakxJPdMYPLGIn5f0VeHoeiuOMBjvtlLKDnyw+R7iJE+iM7/KvtVBtkxg2Qdpqdz/hI9ZVmX2mkN+LHhQmY7HsdAXdn0hG8wWY9Hd3iBVKXZulSY5bL/IPCMskHwA9uUcJCNPsuyMixb4nOyOkvfjaddWZz+YK0siQ4VQWYSz42KgeXHJcZIghgjpB554+8J1f1YPHIDHtnXVDiQaf+//ZN1c1N9Tt94Bj3aUOLYzD63GgXA+eJ38vsj0cqRH/suSsxFs46InOTe9g9IRqZp5PjZxjc/HAJhOSUDtgQCURlGvQBeHJOK6dQ2lRQl64zOYYBEegMc3ZwAv5dNT4J0zq5Uq4ITxMB1pwt73gB778NfE4LoBS3kd/iP8RddnF6ontWP7hxcrDlXrUHu/s2FWTaMKSLnGH5rja/xCR9Uc6cgAwaWLpI/ig8BH3DmR38zaIHaPCdOBEJqcSD/0VLDu5QcHlf1FfTvjWaic85Vtr/4Ev29vAsAratATgUo9zmlMtySY1ggMAUV7gYl1tv7W9KTQhCFTv5U+kKZ8A1+q3Br9YYr5wJJok=
  - secure: nl4USHPiOAD5rtN8x/+Z+B/YgvBetbgbGl8I2uStFQ5rg/7vfmrdkEPj/9bSc0YQwgwfUfiNIvc1bPcgfkgRg2BRScDTkJpOvY8mFtPS7b1heeYmcqsk+vl0sAl6CpCuPbEFOQzomfbGWafUHOGoOFjFPRre9XSCHqRxbaCS8VpwLNfW4TDuMBZNMz8ZkPGX5iTkdeNOmBRYz6wzNZKbjNgFj2ZTs5Pt7T1lqasB6yeXPVac32UfaRv536kcJV+6rW+lgcrj9tuE1rC0Tx7I+/8DZ2/lkEVAvIzCIP6Nj/FA2Zu0od/A4x5mdyztN2n8qaSS4+ndS/YP0SnE5axXEHnQppJKWkx69cj4Eu/vsY4C/hZEozUl/SslMEheRqZU9fbO/0WHoi5VrGGlpR9sBG79FjC+RXwdcAAgiHzkZ5/heXt5lPBt27agfG8T6SVbJ4hOhig51qcDyWWIUjsmn/8V3FMajiVFrgg/xbuE7y58ekDZX9HaC2Go7fAsKt1CPvvBMy59B9Zdle5Y1hj0zIXIhBzkU0uqYcHxQU1bvrcf8eANkK1uJOwIQcQbKJr89B/UZvy3BDnLjMgnaLt31GZxf9eFDYmvrsQpY5safxnHtKOEWNL4e+xfHzo0iqDj3jLz8a2Iq2XK3VAjPmjDALtPNl8MK+jJIQgR2RvsbA0=
  - secure: wb2h3QJHnPr78ahqU1q6gJVx5O6mTGcBC1xi/qUGIVbPfhsH2sZyLspEAnsj6JlacHf3a+3XpGWWiABhKw4qN0U738imKN4gOvu4LdPrVcnhks/fXS3MswmlVYGnd7pZt0LF2lgnkVLz3bTL+6WI2ABODedE3GvaeC9usUwKjcanFtbwpv7FfifMw+jegp8Sa8dxbFHCGevGCfJOcQI5hLN51jsWTamPF8WEXe6gzo4GDDtuHasC1+sszj/KpBtYim/PWRO0rHBt/moOvNTA/yrbD85TY+G5lObbNsJ5L73cNXCSahZ6uekj50qp917TrEDtABYBvVvXONgqwcwqxivYxITcCkSs/C22k3QjHnnekYxV9/1RMeOaxjgtSwJinPPIBw/cBOSG2a2WLzp3274xggMf5uX9m2fOWaWZAI7zmlbC9137VuVIYV3bSTx2DmMxJlCZ5yvNHzmKZnIX6kN8xBLUCl58ckuHrAQHqil0zxadPU06dpXrmLWz1qLkSdhms1MAB/F55BZO+FIKUbPs5DzTFSOsdSC8AT2hqbOEMCzsiGOT3aL4T++J5RZTgnvUoTw3lU0woMP55YB0j3/9AnBD/wibN1kL6tC6+Ng/YypmaD/GPCcc3RwfH0J5UIRf4rY38xLwmYSMK6aIA5am68zpBFVmO1vh+xesODI=
  - secure: xNxvgdJpELqJqB3sv7ilwC1fFCNJCQNJA57q9J0XL04sJjTZgsnhGoRdFTw7yjNgkqaJX/T1GwSTjSm+xU/7/36bdC7fWp29laupHP2nnmXFJRXdE6uuLOAI/Ik4/QKmFt3QbnqhRoecDTFxUiQatd9D9jJV3QanBe9FsQAPhNMkBJbrYij80vUkKyV+WkeATVvPbk+fNAZWD4D6KaiEcNp8TkumfTkMSs3/mD0jRhXoPRaxDQvoteGWKLSC9FS4HvRat2LFv3UlZ40SRlUMsaoo/4Dts4XjEHj2IvHGdQ1UIzdSluF3l27uSSZ1w6urfBwDJSzOmuVMmJjYnKUuOOKj92fT93TGchffr2PkLUevToQuyqBBtFZH2S0t9QzIPpoBTGKvnM3M3vv6FzW1LSgWwKUMHAoEajGgWPwwmLoHyf8uwe/CHRJFVnADhwO3qADAp+Jk70ngtPim5afI1upQMplHncexQS7v0KhZTkgLVZaEYMIxtVrNerq5K6hLtBp/ElPz6Qur3UEQWpazuF66a0PKV8kHBSX2IP0KO+d2qrQJcK/Yz+TAe7q0J0O7OoCGNNeHMnXWuWm1UGfj6+9Sl46IkxzdDPPcKVML6kiTfaqm+tY08Fx/kzqvEWRrgHz7QTu1CC1bFu+GAVdJoyiOscri6OLJz4Hp8f+UV4w=
  - secure: BMMbrpL4UcGVat543+yogeYq64hgGEuHYwarP/Ja8Ta0nPDLS+9LP/DRrWAOf5Yo2iXW/KSXL9p2PuT06lI/l9Y2n57FpmY6PWWEKmRnOvKb3mXxcD7BHYoU4jUq1u+9UY4XMfYZ1myUIoAuuSDGQuIFQRdSuDQTPtGLw1t99I6cEfzLP9QUjSKfAWIce7GQkQt5U8zsL89qD1bpGdLtLYWUNiq3P4yDfxdEGNKEsjuqKzVdkycYHJxCcc4uvzhrlB3vtUXeoaRR9GrbT0XyMc1s6rOdUcyMzn+Zp2yXR/Myh5ulBhcpEzEw0kypxiyfLfzzhNr0mQuGfFw6fYMCRMCglJhw7uIi9ppy4ST/OdYWUMf3ghsLzme6e/LkiuL74cc+ZtzTJvZMM+5aGpyQESxK2n/w8iJ8XCoBgoeb71Ftx3jOiVL2mFHRWNp5wKU3Kt3IGoY8fR5VFEzd2XDjHAZcphTjB+FqYPgJhkgA4tAmtB9NskA7i7wkV5Qi8c+8HEol/YN5MWWfqNymUpnCUxiynhsLlKR3TkE2o0qOasoYLGUFQpvNMcoFtl25d3dNQlsrPpymjw/SObHSRsT35fLKXjbMRbsXy8XZ/MsmVbwXugK3vv32y52aQ2J4Wl62qNO1jOD3610e0XKRe3IfM+NtBNwsNFidRE2nrf+lBhE=
notifications:
  slack:
    secure: KpMEfM6BPCmcHQsFM/RfMwxUVujTCRY3nolMnQ8MllK04TXZswW7qwtdb32jSpja2N0F3CUx/UEeushpdQ51eD+XqFnpioPFUzoTm+vmAza6QiXvQDGAMIF688BMjlR/BeCIVL7BwEUd5vBv2G0nh9hgqE2ItBc4X9UoMikn+StiNuVwHP9WHJ2GpLW9ft9TPXyUrtNsaIhQ3AJCJyBO0H+HZpK8AaTv/IA+rcfcvv73mB4LzK6o4PxfIeJAE2NeW9v0+pNlQ7obQVmltAvOd3W6mWgVvYA0I0NJN0LCRd5LFzf/uQQAh1n4oUgnAnQKUWBckcWRnznx14r1LWRyRgZMIJdGCKpn+MQPl2I8WHnHgl1YRxFxD9JjPHquoe7tPlbbaenj7eC8By7s+Q7gog6F4h6Df0JsiRtfg/fuGkLukqAfWrrTND9T3EIZCL6k4HtpLvvfG1pz9kRIKco2lUKyqZUeZYuimElmZ9Pw7wiUogfhjfnMGWzpERNwZewGt7LDNSNy9nLjzGd36IrqXjE+4rwKkZ6/Bcv8/zh1KCRBxT+3OT4a7c4RmJ9ay+thzbJVatwzUYZ4GQE3cw196I1MJUnDMpqm0z0BRxWvtdZfA/Jo97HVfPsC43R8VDNBzXfZLLryCj9FIKUrX84yAI3/4dUe5Nef2mp6YewXAGU=
# Travis docs: Note that pull request builds skip deployment step altogether.
# https://docs.travis-ci.com/user/deployment/#Conditional-Releases-with-on
deploy:
  skip_cleanup: true
  provider: script
  script: scripts/travis-deploy.sh
  on:
    branch: master
