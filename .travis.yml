language: node_js
# We need sudo so that Frey can install pip, until Frey figures that out
sudo: true
cache:
  apt: true
  directories:
    - node_modules
    - /home/travis/.frey/tools
    - ~/.pyenv
node_js:
- 4.2.2
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
before_script:
- scripts/rebuild-env.sh
script:
- npm run lint
env:
  global:
  - CXX=g++-4.8
  - secure: 3RPBBbMob6VhV3uWdKMWcDWqlmJh2Z6twNW3KdneOlMHpyO8MUzU16y6zZgErCrQ74MCCSz3Z56iGHdg04T6j6KBy+czDAQ14m28LBMvjKrVdzMrwdampzajzFNPuc65Up8vFWiZPRoySHkDAOJaChUccO11BFMkAXsK8BZNeX/d6w2/jgCfd/HxwEMnfQa3ldEViTiRw9jXiEkxsASHtRguj9gUVCm5EoA6XfGkGbsBBF6D1WJrb5pu2TAjdlQ0vJiAFuExOkEtP0cgJ8CkbgZfKAyrBhm7eI/I2f0/pMzeNxgfoQPkMcRztuGnL6NChukOr9W95BDMeTXX6zfVpI8OpIzseC2c6vvA/MbIxxnPhPHx4zveSRh2iCd5kRiB7MK8oXgN/1NKEO+jIwH5Cxg9RiGTM8ws88GZxFQrqK8rRsSD3Cr3+O5kp2J5XT2GCNbWcPF7RiRmy1lTWe9O5qYJFOB0msIpR7Sp0hwYrwGLGirVZ52nZZMhLw9Tt8fWdhjUA4ZCgtv3B0gKeQWpwnn5Y9lJB31+X6su0iys2sAXNFlxJ2ZgUzSPTzvd5MFHdAWlG7/4Np9aHtxULeiAnYbx/tQGgqakj3e2XNiywIhi+lQqzA7JKhPeEXRt6rzBTQCYhF5GBYQirm/zoLpXrxNb2WTH4BP/Igdlh8VsDMw=
  - secure: oHORjKHO5OMKDKEAI21L+Pm/+hpyW3sNejpCEst/pE73OnYRFcZ20ryH3Hewf77/VzhlVTED99Rxr71H8AIIrzzoqBQQsG08f/ANCw0hk2rj75eXe8n7l9+aVGF3twDUupsw+yvi+xP3JpcqktB6bDrCpyQtmhIf13T85gXriRLZ4YbTvFYrVx2wwYFHZhsktzPAJYAMDsCgaTd4bnPRb1tlwELnDX4JF8v1CV0j8+U7fQkqz8lRndqaJHP58ZS/sfBatN8CS1isEC7btaM37JYWMO2scQmxykV8bo9JwHGQc2UB6GtrBAoLErFlGZR3ZjuEr46r1kJy4YvlW1wUaubNIM4Fb9MicNY9snkL+RNMuImczXiUkWIsFJAOLcI8fpir5KfJl6g1Gqi+6oAw53vo0FGCABZtbXJoathDatndDiHAMCACYuJWoWq/LVG4WqsGDJE5xh1s0xYRolzQONSP9JbKlhIYtWW3raVYxkaFtPqMZt6ic74RcNbNqb969zqYyKMbwGchk631QRoOXCqjsDNmiFhsKMLPDX40Q56g1agLnAxLaEvIFU9cWrgpMj0HAtd4icIoyHbZfyr1hOhydi0eJAvxfw8xe0TQp1E9m1We8mmUHFe3GanjhcnnRAUEHD7uK7OcxY2xQ/w9+TC70UFpkg/hvLUEMeNTa0w=
  - secure: BnPPvf/2RKs6bj2pFAonwaqLXLbhZoIbc9DQA+en3tBRz/vfbbSqxFX9DD1qMxdlX/M2j2g/AAjCxheMwOSnGh+Wy+CFWSLsA5FJpYV4D/ojfqV3MgdCoDUxnlMYJb3yBH52cUHB0yM8ooIqB/VQIUQx1w10epYXScawg61YzdBp6fvQgoDuprSRdoobYy+AlfznkTkCSAj3lwjCZnprGAqDZAXyXLAnMbuUoxFkQgCMRFt/6DziKVhND58xuqBs6rd2fD8/lK3JLRSQHkehgj5tw8dAzuDak9imlOi0dBOSQ5LqdBW5o/A/ZS/kqw5EAEI0IDk55VqKo1us6SsvV1qhRK7NsyKNFRSO+BdHNr8vFv6eMGkusW6aMH/fRH+MvasAPwYr16UjBgFYmnG6EvvOuzstztzer/IOvHNafMZNpkYGN+MkAsMJuQgHrGSigRCE0AJX1JcyL5uZght8w3KzK7sayLH0LkiwBxpTiwIlb9XL2Tmbs7IW//ehvFruJGpJX/jJhsDYMMeAaMngdV74JnkC3tCu2g+l7IL2R8jyhzr91y6xheP0D9U40onC2acmDsCgGJ2GVN+myQ/R47RsvrGkzh7jUZ8bTn8P6wX72gNb936MG0cTzxq79cZWAZNYH3eyNy1Si6UUYU+EbJDsho92HEQP2ZYfl3cJ810=
  - secure: TW6U8TLaL76QXO1K+adKCLUABtvQ7GLRyEQQaUZyQh0fY/v1xtBArOfVo+x+OF4E0dmRdG01Ocywgcq2JgfcmLQTKzqocN1p7wl2AAEL2nnGbOa1oGZwo7ZiAACbxF7EG0zR0doNauORflfZTCntmhIyz5uA5F574VdIU8Sb1VIZjvHBBeqRwIyPra588kMVBlUd1AtuLjsNOIIFrKwBK1Cn5h3/w8Pk7GbxnFxmDkBfHf6YAy/tSMgIkrg6cu3uTTzfc3l4OO6ZAlyJYN93JlGjDiVIAH9AbE2o786tk3AXJLDTSmFAL+3F1udq2ELHkqw++S9vSxE2YgjVoPXw9clG3rmc2VJBQSwRYg3MQaUaB8na4zCV3TlLF+6s+D0njZW8g5sTyo0WorQsFxI0TFGRp86DpZvmAa4yRw77UQwi+XyXcvyoo1IqMbtOf9HqasHX7RpKpvB2HqSuRar7lab45unCId0AzAl9ycAppTFgs1iIXNBZaKwiWELyq9x4I2CaFbzdfJ6Y2dff84I+LDqXUPzehWRJVMZOJabLP/dyZlhDR0m6BPHZEWCQHRBvytkCD5QRRwn3DmXzAr2qurSRiqpRqO765YW82d8MPiFh6Ao7aY4SMGImsJOBseqiEhSj4y6hJlDAgFn675IX8hDtMvvkpBm1PTzWIDs7MQ4=
  - secure: sRnTP0Rknod4/PIQd7a/pApzzncJxvPfEEs383j+oJ0Cpi/meM92N0IOrLz4czk2am3qXXIKJezpFERt4VrRPsJ/UKvEuuqtMh0msZJ3IKd6Vsud6QdeTrA9k37vrmEdKn7ySPO4BoiUOhNr8dIwjcCWmlVKSLuhM9KWk8RZNhiqFZJTzA38nRM8MdfuuhQlrs5WbaO7kfqW+HO6ICD4fa1t0Qraw05kyCS7Wg4KZG8r5bTGQbxdQoCP2z4Ae+6m/BRmApOhMdVCgmQYNIpYpSjXcC1FCXqBYN5Go/VrpISkyhBr4V1qhYlb5qFyv6I7oJm3f0JNG1Jb2KnfKOC4/9YTchm/rc1kG6dqGDeKc8GieZrGJQC0s/VqwNTLtAPmcsJzgD3kIp1PMaZZNHuGQHVqYnYnCMf3Ysqpl9YboKHcfZdR1Z2jFftntf6nDr4BXVK39QuRl5G+/ZO0OAg6A1f5jT9z8cMU79dEObL9CxO0VLYcmxlySjYBk9DoML34tHGN8pvpmlIPnVTx7ykPEb5NHz+kWZTDafr0WkfLExDk1f7JlJKkEB27hNVnay6hBrTkDsapPRVSjR8fPsQkKIWjsHAbB25vxfzHeTjzfXpKf4s3AwIsyujPn1RlGpA2rsYUjtTa2TBGQkZUpH9ySN8QRdFzu4y6VrUg+iKArh0=
  - secure: Pf1EoG3+oE0zC7v7Tj2zVR6e7w9FsPrXzifhEIxujCupzL8CCVfdu5sOAAYYx8JhqXSP8NOBkRXCn9hn//XhG3W2nWyUl96FzW9Pl+39ArbA30HitNU4pitscC2aDU9u/4G5GO9eOK8zlOt7GAindA3r8kwbts3MRhHjlFblbHvM4DQbbTlfuQfroIEnWPSuE62ajSJx21PS6em/12VERVuSsD0OtbZbb1bVcgc4vPEr0rArzuV7SVTMOHHWl4lV8SdBYmGLGUFhTubR57g2k6KYpSU2C3Go6Wb6GVv9DMwHy0VrdeWLR4Q+ji9qTsHTiFat62JJ77lHpYq3C1x3rGGwhTL/vpBv56XlMV96/oZpEYiKmH31Q8L9EfYYnmISn3f3ukAMyXUiuEeW489FMajvsB1uTFxoJ4HEgaESWrUCL3TJ75gWaimL91Sbskfe/bYmTKxl4xvzg067zpUcrxSstFuMP054fPlpQ6AehdxbqbJno1cYz/oOFCSdqNB37UELSKYTMNavzIXCY3S8urLYhuq52s4Kj3DAW9v+STMA72vOlfTbWjTdy6I1smXgNoZbQyIkSoebQm+jIccGY3mATJHm+ol9MaTmkAgbIXtbz4XWbtvksQa2hZtMU1Hc55XRs0Ee6T+fxuyMbJvJ6vsThAziv7+M/rlI82OPSdY=
  - secure: I2tGKzG6XJK8Tmtcf6t95xUutjZq/NURwHZSE2Y3EzKAkrzXiy54wk/l5DNoXSRwB4Y789Lm6G23ADuEE8nK+mpeDhoAzJ7Cw1Qbb7glLjcHjIrmRoEDokNCi0D/wrugFjBUUpJZzqCDXlYPAaxW1IycgOvdNSy5yWQN6RxXSNvamyUq5uBuogZQ0szLZi7w3D1M/Pe5goCgD/PQBxq38w9VytcYnyQauLduCccqd2aAv0PPOkbOevZOIy517QVelQlPEJp9zgou/8O/L4d+Fk572lYSZFBP3vOMX4veGvcRC6nmLS0vw1Y1hH3jCpSK1dKmQ+ObTdGACKRoY/sJ0HQNkCqxwzqPzTTVVMXFGXMu4Tz7mV93djeXBxgSw7y+YmlGW04f4PhbcUUJC7k5QU0UQ6ZhEARp/bzSghoECdLmeQvT9/3rdIl6Ij9+KD/3L3wLXftDvHWM+3X6XDjebpUd/mY1PckzQPCsUWXszI22tOFI391HMaSm5N1S471olxXy0hfbEzgT/7fIsq3IL5yEtZsFBM/RymYbBkE1wae9/hzueYNk8GpXkqgEnwvCeAYCMQonvhwlfCK7TNPMl1r6zJWeqcoxE4V6mV/pQ1Wp1gih6Y135sdGdNa5jKYplPI7igeqyqPYLffcuPLul3IAcWVI0Grem4yaW4DQcbQ=
  - secure: zm6Ht71iBKONAq5isIQnYh4pRr72zInaDSmARNq5vigQ2tfH7FVkTR4Lz+KIHLXsrtJOHmnxTtCIwhCPsweTlBk8ZnognH23DvNAYIrQ0wxymxsLEPVsM0x/1vATe+FrPAdfP0YcnTwkmaGaExAnzmf/s/sJMgdrm9pZC8LpafT0fLkLZWxF1ipa2qhRd8QX/dd1yw3jLOYwjDevGjvPFyy9m1hozGg1N73fMj/NKvrHUp2287urcc+E3w5T6m0f1tSdmGj0cCSiU2A05L0l1HbA0JFHMYtCYpdEfQfEbPIe/68JdCd4sxxHTlfv+wGZiSmkGRDecvENQBjY/Q5Gxh3pe0C3o+9kJM6RaXnagidAR+bdg4dksdKoNT4pb8j5WeJTqLItSlOoHOM0I6/pt9vFuvB5YB2CQ/wVybncF0eg1FWVJH/dgwas/1xe4GoV3w3thMbFcT5KVXvJTQJ27ByxW+UsnCSZy3SlHyOuThwEToXE75DhnFjUBkpOIDjOU1OVibxkFN0Tr+t0n2zCSF7wwSMXPwLAPIlz0dBspE6txL5VOCQYyPrCgYpDHGSx+Iurk02T5vK/1CWUA2xPqa67+BPe+VX02Eekv/cBBpsEZW15PR65c2QRm0uvepRY676XXvv0oMW//23jGyEuJrvNoxq6CFBtwuZPyhl7cMQ=
  - secure: e3J4SZX/UfuRCU3Eg0vXSGKVVF0B0ZVOooEVgmIlunQtuJuRzG+e6xu003HgLKLzrZug9sLjHORNEe0qAXpiS4eCXnx7dLLtZ/6gotU9DqsEbvfzWovLudwPGK704pP6SSZ+bysyqpItweGLdidUOSS87BrS46WW2SOhFVHbNqR5IsmytU2TwFZX9IFQGphEahHMwVsDxWw3gm9yeLVduIiPCLjbEc9oPqsHh8gDOBlJ8KOq7OL3AE53YPf0QCA/WjYG+MC1BWmMFLFmw6rZ91GKAmaOsCIemgLHbn2iRIWTH+zexo/0Ms+aH4B90egtzqSpSdAe20Jqy7aGJnqqMhnG0I8C5dl0DUn/pq7UkfuYFHR+KNEzh3JAVZGYs40fGWum3Kwy35V4SR92YbFl6lD+np/BfQlY2zTOKso45HiJWTi4+gXTr2ceEPze/MNZlfWD1sXbR+HL196s8YerGl6GYtxxW2Qy8iVHJzcYiXr1dnC9VvtyIMjBU9CWDmOK+tQnYqFOi4VGWOIYXOJxU3j9nNNdvVtZTI4LQfGAjBc874lN3IuBXUdU+BD/8x9r/T/o53pCOj645JACyLThyVwDuUB4rRL66Qn6yQJvAXcw0YldZUS9DYAlgTwYHpLeTknNYka8x44N9M1b3kEr+dJXl++JiZuyP542OGgDe6U=
  - secure: lzPjpF1qtlVne8BQxzSB+4Ap2wejBNxs68Je+wUF+Q6fCOIe7TwqPDlPX4NJHJQYgauW0HhQtioh5TEHyDPI3AMJFCA+cq/dW3L5nQp8Uk2C0MY6fRRJgtCrt7MtjQLlC2MaJDEersDJcPnsemVcVYabGTodedAaIZ76VN+znap8XLHnJn0edbbpg01/ljs/RpaL0f7DC0uYVTgaSYTWUsHzlsiIelL1dcFk96awkIxpK8eIZjK82HmZG31XuFeQJAy1Sx90iiuWmA2H/aYvZ2Fk4RiH6OazY2mT0xrL3+6p8iFcxoxglNY9EA7ksm4xvOKvicODvo2EhKTMUc9zWx/KQsiOG4o8N8V+/lW1JDRY62TV6ab2H3AGB07/YfGgGsHp+m7P8b52G6LmbZpUiwROfLlBqwBA6i1Y3YTPwpazJnzmO8wT6HDRSK+q/NMjttoiI9J5ozOlQAewir99UJ5hl69y5M+x6RFEPxdKyceFQjNPOHn/rinMiR7Ug0t0NPRUQjZpXnJopdy2gqsMUHjiSVRQLwRLTGkzVuLcNQcLZ3OKb9+q+XkOhRDohnJusKH9uFKSzqVIdo27l4b+8xgaPMaBgg1QlZLwVIBCo6dMdDhySiIRZKlnZ5wMnKNXp2CilH2zuj32iZFz9SJWqIqubATg1X+lfCLGKugNbwA=
  - secure: JBdeLB4VzJnMwXZDoGisIg3CXn+EdUY5asnqPsjZrDTLzg5cHzodyZue3rvk+szhPPqwoFvIXwvpt9QAtlMUL5ivlAFtjZdKZXi5M4Dju+v37WwnWmp7hJHScQwWKfziZ99v75U7No+seya+v2Ldwyv5DmgAHuBKOMiP+xVGSZprpFxUp7LpMkruuV+NICdF8qk32GY5A6fWwv8Msrcrq3KHrqAH9QxjSEDMjuEhrLbKFVcd8K6UyTVkB7IWAqMTw+0G62NDSJWcg8Ypdoe7nWjaIRzy3SaCVqWDRX6Ter27kXXv8t6DwTrfyRdgWPe232DBHHxjS5lcAbEwk9XPMOt7lwt/RIz+DVHi2PCp9LF8po9DceGvjAMBgKaZH4lTuKcq1/f7f7CRWE0U8iBuRSTC8G+qGg9PlrPOn6vYHa27A4D6CkjktTQaVD5DSBB3Lv4WCYAN45pJGkSitmrbGRqJNS+0rsy/It80mxcZUAm1IXvYCbqzCsi4R53k1FzYQGIT1AzZiM6ElKB14AdtZtDBFC9VMiG9LrqTCBOfSdUkXv6WBzffR6aaHNKQXFAkRiYh7+hOQt3vkRKWeVj8wmA4gofcTploeK3NHIsgjr5HGYoSzjVgwy7vIOu/Hfx6j/vq5dJ5u1fSS39AsyYbTAKWeoaNVJYx74Lj+d0tWAM=
notifications:
  slack:
    secure: KpMEfM6BPCmcHQsFM/RfMwxUVujTCRY3nolMnQ8MllK04TXZswW7qwtdb32jSpja2N0F3CUx/UEeushpdQ51eD+XqFnpioPFUzoTm+vmAza6QiXvQDGAMIF688BMjlR/BeCIVL7BwEUd5vBv2G0nh9hgqE2ItBc4X9UoMikn+StiNuVwHP9WHJ2GpLW9ft9TPXyUrtNsaIhQ3AJCJyBO0H+HZpK8AaTv/IA+rcfcvv73mB4LzK6o4PxfIeJAE2NeW9v0+pNlQ7obQVmltAvOd3W6mWgVvYA0I0NJN0LCRd5LFzf/uQQAh1n4oUgnAnQKUWBckcWRnznx14r1LWRyRgZMIJdGCKpn+MQPl2I8WHnHgl1YRxFxD9JjPHquoe7tPlbbaenj7eC8By7s+Q7gog6F4h6Df0JsiRtfg/fuGkLukqAfWrrTND9T3EIZCL6k4HtpLvvfG1pz9kRIKco2lUKyqZUeZYuimElmZ9Pw7wiUogfhjfnMGWzpERNwZewGt7LDNSNy9nLjzGd36IrqXjE+4rwKkZ6/Bcv8/zh1KCRBxT+3OT4a7c4RmJ9ay+thzbJVatwzUYZ4GQE3cw196I1MJUnDMpqm0z0BRxWvtdZfA/Jo97HVfPsC43R8VDNBzXfZLLryCj9FIKUrX84yAI3/4dUe5Nef2mp6YewXAGU=
# Travis docs: Note that pull request builds skip deployment step altogether.
# https://docs.travis-ci.com/user/deployment/#Conditional-Releases-with-on
deploy:
  skip_cleanup: true
  provider: script
  script: scripts/travis-deploy.sh
  on:
    branch: master
